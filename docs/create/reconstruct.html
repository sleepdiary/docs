<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.37">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css" integrity="sha512-10/jx2EXwxxWqCLX/hHth/vu2KY3jCF70dCQB8TSgNjbCVAC/8vai53GfMDrO2Emgwccf2pJqxct9ehpzG+MTw==" crossorigin="anonymous" referrerpolicy="no-referrer"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/brands.min.css" integrity="sha512-OivR4OdSsE1onDm/i3J3Hpsm5GmOVvr9r49K3jJ0dnsxVzZgaOJ5MfxEAxCyGrzWozL9uJGKz6un3A7L+redIQ==" crossorigin="anonymous" referrerpolicy="no-referrer"><link rel="stylesheet" href="https://unpkg.com/leaflet-extra-markers@1.2.1/dist/css/leaflet.extra-markers.min.css"><title>Reconstruct a sleep diary | Sleep Diary Docs</title><meta name="description" content="Understand your sleeping pattern">
    <link rel="modulepreload" href="/docs/assets/app.ba65d2e4.js"><link rel="modulepreload" href="/docs/assets/reconstruct.html.6bd6c50d.js"><link rel="modulepreload" href="/docs/assets/reconstruct.html.5514c201.js">
    <link rel="stylesheet" href="/docs/assets/style.3b2cedcf.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/docs/" class=""><!----><span class="site-name can-hide">Sleep Diary Docs</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/sleepdiary/docs" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/sleepdiary/docs" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/docs/create/" class="router-link-active sidebar-item sidebar-heading active" aria-label="Create a diary"><!--[--><!--]--> Create a diary <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/create/reconstruct.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Reconstruct a sleep diary"><!--[--><!--]--> Reconstruct a sleep diary <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/create/reconstruct.html#general-overview" class="router-link-active router-link-exact-active sidebar-item" aria-label="General overview"><!--[--><!--]--> General overview <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/create/reconstruct.html#desktop-browsers" class="router-link-active router-link-exact-active sidebar-item" aria-label="Desktop browsers"><!--[--><!--]--> Desktop browsers <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/create/reconstruct.html#manually-create-an-activity-log-optional" class="router-link-active router-link-exact-active sidebar-item" aria-label="Manually create an activity log (optional)"><!--[--><!--]--> Manually create an activity log (optional) <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/docs/create/reconstruct.html#desktop-operating-systems" class="router-link-active router-link-exact-active sidebar-item" aria-label="Desktop operating systems"><!--[--><!--]--> Desktop operating systems <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/docs/create/software.html" class="sidebar-item" aria-label="Software"><!--[--><!--]--> Software <!--[--><!--]--></a><!----></li><li><a href="/docs/create/forms.html" class="sidebar-item" aria-label="Forms and reports"><!--[--><!--]--> Forms and reports <!--[--><!--]--></a><!----></li><li><a href="/docs/create/formats.html" class="sidebar-item" aria-label="Supported formats"><!--[--><!--]--> Supported formats <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/docs/specialists/" class="sidebar-item sidebar-heading" aria-label="Find a specialist"><!--[--><!--]--> Find a specialist <!--[--><!--]--></a><!----></li><li><a href="/docs/patterns/" class="sidebar-item sidebar-heading" aria-label="Sleeping patterns"><!--[--><!--]--> Sleeping patterns <!--[--><!--]--></a><!----></li><li><a href="/docs/contribute/" class="sidebar-item sidebar-heading" aria-label="Contribute"><!--[--><!--]--> Contribute <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="reconstruct-a-sleep-diary" tabindex="-1"><a class="header-anchor" href="#reconstruct-a-sleep-diary" aria-hidden="true">#</a> Reconstruct a sleep diary</h1><p>A lot of programs remember when recent events happened. For example, your calendar saves the start and end times for entries; and your browser cache stores the time you visited each page. You may be able to reconstruct a sleep diary by gathering up these records and assuming you were asleep during the periods where nothing happened.</p><p>Every program that logs your activity has its own bespoke format, designed around the requirements of that program. And for privacy and security reasons, access to the data is often limited. That means reconstructing a diary is quite technical and often inaccurate, but it can be a quick way to see your past sleeping pattern. See <a href="/docs/create/" class="">the diary creation page</a> for information about creating a proper diary for future events.</p><h2 id="general-overview" tabindex="-1"><a class="header-anchor" href="#general-overview" aria-hidden="true">#</a> General overview</h2><p>To reconstruct a diary, you need to create an <em>activity log</em> that will then be converted to a normal diary. This is a simple text file that looks something like:</p><div class="language-csv ext-csv line-numbers-mode"><pre class="language-csv"><code><span class="token value">maximum_day_length_ms=129600000</span>
<span class="token value">ActivityStart</span><span class="token punctuation">,</span><span class="token value">ActivityEnd</span>
<span class="token value">2016-08-04T02:01:00Z</span><span class="token punctuation">,</span><span class="token value">2016-08-04T04:08:16Z</span>
<span class="token value">12345678</span><span class="token punctuation">,</span><span class="token value">23456789</span>
<span class="token value">... etc ...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>The first line is optional, and tells the analysis program how many milliseconds there are in the longest possible day. A 24-hour day is <code>86400000</code> milliseconds, and you should only need to set this explicitly if your average day length is more than about 32 hours long.</p><p>The rest of the file uses <a href="https://en.wikipedia.org/wiki/Comma-separated_values" target="_blank" rel="noopener noreferrer">CSV<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> - a type of simple spreadsheet with commas between each column.</p><p>The second line is the <em>CSV header</em>. It says this file has two columns, indicating the start and end times for an activity.</p><p>Lines after the second are the <em>CSV body</em>. They indicate the times for specific activities. Each line should have a start time in the first column and an end in the second column. If your data source only specifies one time, use that time in both columns. The example above shows dates in <a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">ISO 8601<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> format and in <a href="https://en.wikipedia.org/wiki/Unix_time" target="_blank" rel="noopener noreferrer">Unix time<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, but analysis programs should support a wide variety of date formats.</p><p>The way to generate this data depends on your data source. The examples below discuss some possible solutions, but you may need to do some programming to make your particular source work.</p><p>The examples on this page use <a href="https://sleepdiary.github.io/dashboard" target="_blank" rel="noopener noreferrer">the dashboard<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to analyse your data. See <a href="https://github.com/sleepdiary/core/tree/main/src/ActivityLog" target="_blank" rel="noopener noreferrer">the ActivityLog documentation<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> if you&#39;re interested in creating your own analysis software.</p><h1 id="sources" tabindex="-1"><a class="header-anchor" href="#sources" aria-hidden="true">#</a> Sources</h1><p>A collection of example sources are presented below, but your best source of logs depends on your personal behaviour. For example, if you&#39;re always on your Android phone, <a href="https://support.google.com/accounts/answer/3024190?hl=en" target="_blank" rel="noopener noreferrer">Google Takeout<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> will let you download a lot of data about your activity.</p><h1 id="calendars" tabindex="-1"><a class="header-anchor" href="#calendars" aria-hidden="true">#</a> Calendars</h1><p>Calendars store the dates and times when events occur. If you normally have events throughout your day, you can use them as an activity log. The general process looks like this:</p><ol><li>export your data to iCalendar format</li><li>analyse your data</li></ol><p>Most calendar software can export to <a href="https://en.wikipedia.org/wiki/ICalendar" target="_blank" rel="noopener noreferrer">iCalendar format<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> - a standard format designed to be read by other calendaring programs. You will need to search online to find the relevant steps for your program.</p><p>Once you have an iCalendar file, you can add it directly to <a href="https://sleepdiary.github.io/dashboard" target="_blank" rel="noopener noreferrer">the dashboard<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. It will convert the file to an activity log automatically.</p><h2 id="desktop-browsers" tabindex="-1"><a class="header-anchor" href="#desktop-browsers" aria-hidden="true">#</a> Desktop browsers</h2><p>Browsers store the date and time whenever you go to a new page, so they can decide when to remove that page from the browser cache. Depending on your settings, this information might be deleted after a month or so. Most browsers store this in a standard format that can be extracted with a little work. The general process looks like this:</p><ol><li>find your history database</li><li>(optionally) extract the cache activity</li><li>analyse your data</li></ol><p>The first step is to find your history database. Type <code>chrome:version</code> or <code>about:support</code> in the address bar - depending on your browser, one or other of them should take you to a page full of technical information. The line that says <code>Profile Path</code> or <code>Profile Directory</code> tells you the folder where your profile is saved. Depending on your browser, your history database will be called <code>History</code>, <code>History.db</code> or <code>places.sqlite</code> in that folder. If you are using MacOS and can&#39;t see your profile folder, press <code>Cmd</code> + <code>Shift</code> + <code>G</code> in the Finder and type your folder name.</p><p><a href="https://sleepdiary.github.io/dashboard" target="_blank" rel="noopener noreferrer">The dashboard<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> can create an activity log directly from your history database. You can skip the next stage if you&#39;re comfortable with that.</p><h3 id="manually-create-an-activity-log-optional" tabindex="-1"><a class="header-anchor" href="#manually-create-an-activity-log-optional" aria-hidden="true">#</a> Manually create an activity log (optional)</h3><p>If you would rather not upload your complete browser history to <a href="https://sleepdiary.github.io/dashboard" target="_blank" rel="noopener noreferrer">the dashboard<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, you can extract your activity log by hand with a command-line program called <a href="https://www.sqlite.org/download.html" target="_blank" rel="noopener noreferrer">SQLite<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. This is installed by default in MacOS and available for all Linux distributions, but you will have to install it manually if you use Windows. Once you&#39;ve installed SQLite, run one of these commands on a command-line (remember to replace <code>...</code> with the folder from the first step):</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Run whichever command matches your history filename:</span>
sqlite3 -csv C:<span class="token punctuation">\</span><span class="token punctuation">\</span><span class="token punctuation">..</span>.<span class="token punctuation">\</span><span class="token punctuation">\</span>History       <span class="token string">&#39;.output activity-log.chrome.csv&#39;</span>  <span class="token string">&#39;.header on&#39;</span> <span class="token string">&#39;SELECT visit_time/1000-11644473600000 AS ActivityStart, visit_time/1000-11644473600000 AS ActivityEnd FROM visits&#39;</span>
sqlite3 -csv C:<span class="token punctuation">\</span><span class="token punctuation">\</span><span class="token punctuation">..</span>.<span class="token punctuation">\</span><span class="token punctuation">\</span>places.sqlite <span class="token string">&#39;.output activity-log.firefox.csv&#39;</span> <span class="token string">&#39;.header on&#39;</span> <span class="token string">&#39;SELECT visit_date/1000                AS ActivityStart, visit_date/1000                AS ActivityEnd FROM moz_historyvisits&#39;</span>
sqlite3 -csv C:<span class="token punctuation">\</span><span class="token punctuation">\</span><span class="token punctuation">..</span>.<span class="token punctuation">\</span><span class="token punctuation">\</span>History.db    <span class="token string">&#39;.output activity-log.safari.csv&#39;</span>  <span class="token string">&#39;.header on&#39;</span> <span class="token string">&#39;SELECT (visit_time+978307200)*1000    AS ActivityStart, (visit_time+978307200)*1000    AS ActivityEnd FROM history_visits&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>If you see a message like <code>Error: database is locked</code>, you will need to close your browser before you run the command.</p><p>Depending on your browser, your file will be called <code>activity-log.chrome.csv</code>, <code>activity-log.firefox.csv</code> or <code>activity-log.safari.csv</code>. You can confirm its contents by opening it like a normal spreadsheet.</p><p>Finally, add your activity log or history database to <a href="https://sleepdiary.github.io/dashboard" target="_blank" rel="noopener noreferrer">the dashboard<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. You might like to convert the result to a spreadsheet, so you can fix anything it got wrong.</p><h2 id="desktop-operating-systems" tabindex="-1"><a class="header-anchor" href="#desktop-operating-systems" aria-hidden="true">#</a> Desktop operating systems</h2><p>Your operating system logs a lot of system information, like when it boots up and shuts down. If you turn your computer on when you wake up and off when you go to sleep, you can use that information as an activity log. The general process looks like this:</p><ol><li>run a command-line program to create an activity log</li><li>analyse your data</li></ol><p>If you use Windows, you can create an activity log with PowerShell. Click <code>Start</code>, type <code>PowerShell</code> and press enter. Copy the following block of text, then right-click on the PowerShell window and click <code>paste</code>:</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token variable">$out_path</span> = <span class="token namespace">[System.Environment]</span>::GetFolderPath<span class="token punctuation">(</span><span class="token namespace">[System.Environment+SpecialFolder]</span>::Desktop<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;\\activity-log.windows.csv&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">write</span> <span class="token string">&quot;Saving to <span class="token variable">$out_path</span>...&quot;</span>
  <span class="token function">write</span> <span class="token string">&quot;ActivityStart,ActivityEnd&quot;</span> <span class="token punctuation">|</span> <span class="token function">Out-File</span> <span class="token operator">-</span>encoding ASCII <span class="token operator">-</span>FilePath <span class="token variable">$out_path</span>
  <span class="token keyword">ForEach</span> <span class="token punctuation">(</span> <span class="token variable">$log</span> in <span class="token function">Get-EventLog</span> System <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token variable">$log</span><span class="token punctuation">.</span>EventId <span class="token operator">-eq</span> 12 <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment"># powered on</span>
       <span class="token variable">$start_time</span> = <span class="token function">Get-Date</span> <span class="token operator">-</span>Format u <span class="token variable">$log</span><span class="token punctuation">.</span>TimeGenerated
    <span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span> <span class="token variable">$log</span><span class="token punctuation">.</span>EventId <span class="token operator">-eq</span> 13 <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment"># powered off</span>
       <span class="token variable">$end_time</span> = <span class="token function">Get-Date</span> <span class="token operator">-</span>Format u <span class="token variable">$log</span><span class="token punctuation">.</span>TimeGenerated
       <span class="token function">write</span> <span class="token string">&quot;<span class="token variable">$start_time</span>,<span class="token variable">$end_time</span>&quot;</span> <span class="token punctuation">|</span> <span class="token function">Out-File</span> <span class="token operator">-</span>encoding ASCII <span class="token operator">-</span>append <span class="token operator">-</span>FilePath <span class="token variable">$out_path</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">write</span> <span class="token string">&quot;You can close PowerShell now.&quot;</span>
<span class="token punctuation">}</span>
<span class="token comment"># Now press enter twice</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>Press enter twice to run the command. After a few seconds, a file called <code>activity-log.windows.csv</code> will appear on your desktop. You can close PowerShell once that happens.</p><p>If you use Linux, run the following command on a command-line:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&#39;ActivityStart,ActivityEnd&#39;</span> <span class="token operator">&gt;</span> ~/activity-log.linux.csv
<span class="token function">sudo</span> zcat -f /var/log/syslog* <span class="token punctuation">\</span><span class="token punctuation">\</span>
  <span class="token operator">|</span> <span class="token function">cut</span> -c <span class="token number">1</span>-15 <span class="token punctuation">\</span><span class="token punctuation">\</span>
  <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token punctuation">\</span><span class="token punctuation">\</span>
  <span class="token operator">|</span> <span class="token keyword">while</span> <span class="token builtin class-name">read</span> <span class="token environment constant">REPLY</span> <span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token assign-left variable">DATE</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span> <span class="token function">date</span> -Iseconds -d <span class="token string">&quot;<span class="token environment constant">$REPLY</span>&quot;</span> <span class="token variable">)</span></span>&quot;</span><span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$DATE</span>,<span class="token variable">$DATE</span>&quot;</span> <span class="token punctuation">;</span> <span class="token keyword">done</span> <span class="token punctuation">\</span><span class="token punctuation">\</span>
  <span class="token operator">&gt;&gt;</span> ~/activity-log.linux.csv
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>A file called <code>activity-log.linux.csv</code> will slowly be populated in your home directory. The program might take a minute or two to run.</p><h1 id="other-sources" tabindex="-1"><a class="header-anchor" href="#other-sources" aria-hidden="true">#</a> Other sources</h1><p>The examples above show how to extract an activity log from some sources. It generally involves <em>extracting</em> the data you want from the source, <em>converting</em> it to an activity log, then <em>analysing</em> it with the diary.</p><p>If you work out how to extract data from another source, <a href="https://github.com/sleepdiary/docs/issues/new?title=Reconstruct+a+diary+from+a+new+source" target="_blank" rel="noopener noreferrer">let us know<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> so we can add it to this page!</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-links"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Found a problem?"><span class="title">Found a problem?</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Found a problem?"><span class="title">Found a problem?</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/sleepdiary/docs/edit/main/create/reconstruct.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/sleepdiary/docs/blob/main/create/reconstruct.md" rel="noopener noreferrer" target="_blank" aria-label="View page source"><!--[--><!--]--> View page source <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/sleepdiary/docs/issues/new/?assignees=&amp;labels=&amp;template=page_problem.md&amp;title=Problem+with+create/reconstruct.md" rel="noopener noreferrer" target="_blank" aria-label="Report problem"><!--[--><!--]--> Report problem <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/docs/create/software.html" class="" aria-label="Software"><!--[--><!--]--> Software <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/docs/assets/app.ba65d2e4.js" defer></script>
  </body>
</html>
