import{_ as k,r as p,o as d,a as m,b as n,d as e,w as b,F as h,e as s,c as o}from"./app.7db7702a.js";const _={data:()=>({sources:{},source_editor:`for ( n = 0; n < 365; n = n+1 ) {
    add_diary_entry({
      asleep_at: n*days + normal_distribution()*hours,
      awake_at:  n*days + normal_distribution()*hours + 8*hours,
    });
}`}),mounted(){Object.keys(this.$refs).forEach(a=>this.sources[a]=this.$refs[a].nextElementSibling.getElementsByTagName("PRE")[0].innerText)}},y=n("h1",{id:"simulate-different-patterns",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#simulate-different-patterns","aria-hidden":"true"},"#"),s(" Simulate different patterns")],-1),f=n("p",null,"One way to understand your sleeping pattern is to compare it to a mathematical model. This page presents a series of simple models to help you think about how you might model your own sleeping pattern.",-1),g=n("h2",{id:"an-unrealistically-simple-model",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#an-unrealistically-simple-model","aria-hidden":"true"},"#"),s(" An unrealistically simple model")],-1),v=s("We can model a year-long sleep diary by using a language called "),w={href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript",target:"_blank",rel:"noopener noreferrer"},x=s("JavaScript"),j=s(" to create 365 sleep events:"),S={ref:"source_unrealistic"},E=o(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> <span class="token number">365</span><span class="token punctuation">;</span> n <span class="token operator">=</span> n<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">add_diary_entry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">asleep_at</span><span class="token operator">:</span> n<span class="token operator">*</span>days<span class="token punctuation">,</span>
      <span class="token literal-property property">awake_at</span><span class="token operator">:</span>  n<span class="token operator">*</span>days <span class="token operator">+</span> <span class="token number">8</span><span class="token operator">*</span>hours<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,1),N=n("p",null,[s("Click \u201Crun this simulation\u201D to create a diary and view it in the dashboard. In this case, it will look like you slept between exactly midnight and 8am GMT every day. Notice that the graphs still show your local time, including your daylight savings time - you might like to change the timezone to "),n("em",null,"Etc/GMT"),s(" instead.")],-1),T=n("h2",{id:"a-more-realistic-model",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#a-more-realistic-model","aria-hidden":"true"},"#"),s(" A more realistic model")],-1),$=s("People don't sleep at precisely the same times every day, which we can simulate by adding a bit of randomness to the start and end of sleep. Specifically, we use a "),q={href:"https://en.wikipedia.org/wiki/Normal_distribution",target:"_blank",rel:"noopener noreferrer"},A=s("normal distribution"),B=s(" (bell curve) to produce something that looks more human:"),C={ref:"source_midnight"},F=o(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> <span class="token number">365</span><span class="token punctuation">;</span> n <span class="token operator">=</span> n<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">add_diary_entry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">asleep_at</span><span class="token operator">:</span> n<span class="token operator">*</span>days <span class="token operator">+</span> <span class="token function">normal_distribution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>hours<span class="token punctuation">,</span>
      <span class="token literal-property property">awake_at</span><span class="token operator">:</span>  n<span class="token operator">*</span>days <span class="token operator">+</span> <span class="token function">normal_distribution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>hours <span class="token operator">+</span> <span class="token number">8</span><span class="token operator">*</span>hours<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,1),L=n("h2",{id:"trouble-getting-to-sleep-on-time",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#trouble-getting-to-sleep-on-time","aria-hidden":"true"},"#"),s(" Trouble getting to sleep on time")],-1),V=n("p",null,"Now we can simulate something that looks like a human sleeping pattern, we can see what sort of graph you would have if you went to sleep about 4am every day:",-1),I={ref:"source_4am"},M=o(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> <span class="token number">365</span><span class="token punctuation">;</span> n <span class="token operator">=</span> n<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">add_diary_entry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">asleep_at</span><span class="token operator">:</span> n<span class="token operator">*</span>days <span class="token operator">+</span> <span class="token function">normal_distribution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>hours <span class="token operator">+</span>  <span class="token number">4</span><span class="token operator">*</span>hours<span class="token punctuation">,</span>
      <span class="token literal-property property">awake_at</span><span class="token operator">:</span>  n<span class="token operator">*</span>days <span class="token operator">+</span> <span class="token function">normal_distribution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>hours <span class="token operator">+</span> <span class="token number">12</span><span class="token operator">*</span>hours<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,1),R=n("p",null,"A new simulation runs every time you click the button - click it a few times and compare the results.",-1),W=n("h2",{id:"trouble-sticking-to-a-bedtime",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#trouble-sticking-to-a-bedtime","aria-hidden":"true"},"#"),s(" Trouble sticking to a bedtime")],-1),z=n("p",null,"Simulations can also show what it would be like if your bedtime advanced by a constant amount every day. Here's an example of what it would look like if your bedtime advanced by one hour per day:",-1),G={ref:"source_day_length"},H=o(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> <span class="token number">365</span><span class="token punctuation">;</span> n <span class="token operator">=</span> n<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">add_diary_entry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">asleep_at</span><span class="token operator">:</span> n<span class="token operator">*</span>days <span class="token operator">+</span> <span class="token function">normal_distribution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>hours <span class="token operator">+</span> n<span class="token operator">*</span>hours<span class="token punctuation">,</span>
      <span class="token literal-property property">awake_at</span><span class="token operator">:</span>  n<span class="token operator">*</span>days <span class="token operator">+</span> <span class="token function">normal_distribution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>hours <span class="token operator">+</span> n<span class="token operator">*</span>hours <span class="token operator">+</span> <span class="token number">8</span><span class="token operator">*</span>hours<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,1),J=n("h2",{id:"a-complex-model",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#a-complex-model","aria-hidden":"true"},"#"),s(" A complex model")],-1),O=n("p",null,"We can even simulate more complex sleeping patterns. Here's a model that describes going to bed about 10pm on week days and midnight on weekends, and being woken up by an alarm clock at 6am during the week:",-1),P={ref:"source_alarm"},U=o(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> <span class="token number">365</span><span class="token punctuation">;</span> n <span class="token operator">=</span> n<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">day_of_week</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;Saturday&quot;</span> <span class="token operator">||</span> <span class="token function">day_of_week</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;Sunday&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">add_diary_entry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">asleep_at</span><span class="token operator">:</span> n<span class="token operator">*</span>days <span class="token operator">+</span> <span class="token function">normal_distribution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>hours<span class="token punctuation">,</span>
          <span class="token literal-property property">awake_at</span><span class="token operator">:</span>  n<span class="token operator">*</span>days <span class="token operator">+</span> <span class="token function">normal_distribution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>hours <span class="token operator">+</span> <span class="token number">8</span><span class="token operator">*</span>hours<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// Monday to Friday</span>

        <span class="token function">add_diary_entry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">asleep_at</span><span class="token operator">:</span> n<span class="token operator">*</span>days <span class="token operator">+</span> <span class="token function">normal_distribution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>hours   <span class="token operator">-</span> <span class="token number">2</span><span class="token operator">*</span>hours<span class="token punctuation">,</span>
          <span class="token literal-property property">awake_at</span><span class="token operator">:</span>  n<span class="token operator">*</span>days <span class="token operator">+</span> <span class="token function">normal_distribution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>minutes <span class="token operator">+</span> <span class="token number">6</span><span class="token operator">*</span>hours<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div>`,1),D=n("h2",{id:"create-your-own",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#create-your-own","aria-hidden":"true"},"#"),s(" Create your own")],-1),K=n("p",null,"Now you've seen some simulations, edit the block below to create your own:",-1),Q=s("For a complete list of available features, see "),X=s("the simulation reference page"),Y=s(".");function Z(a,r,nn,sn,an,en){const l=p("ExternalLinkIcon"),t=p("Simulate"),c=p("Editor"),i=p("RouterLink");return d(),m(h,null,[y,f,g,n("p",null,[v,n("a",w,[x,e(l)]),j]),n("div",S,null,512),E,e(t,{source:a.sources.source_unrealistic},null,8,["source"]),N,T,n("p",null,[$,n("a",q,[A,e(l)]),B]),n("div",C,null,512),F,e(t,{source:a.sources.source_midnight},null,8,["source"]),L,V,n("div",I,null,512),M,e(t,{source:a.sources.source_4am},null,8,["source"]),R,W,z,n("div",G,null,512),H,e(t,{source:a.sources.source_day_length},null,8,["source"]),J,O,n("div",P,null,512),U,e(t,{source:a.sources.source_alarm},null,8,["source"]),D,K,e(c,{source:a.source_editor,onSource:r[0]||(r[0]=u=>this.source_editor=u)},null,8,["source"]),e(t,{source:a.source_editor},null,8,["source"]),n("p",null,[Q,e(i,{to:"/patterns/simulation-reference.html"},{default:b(()=>[X]),_:1}),Y])],64)}var on=k(_,[["render",Z],["__file","simulate.html.vue"]]);export{on as default};
